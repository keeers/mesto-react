{"version":3,"sources":["images/header__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","utils/utils.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","target","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","id","link","name","likes","owner","onDeleteCard","onCardClick","onCardLike","currentUser","useContext","isOwn","_id","isLiked","some","user","handleLikeClick","handleCardDelete","onClick","cardLink","cardName","type","disabled","length","Main","onEditProfile","onAddPlace","onEditAvatar","initialCards","onCardDelete","avatar","about","map","Footer","ImagePopup","card","isOpen","onClose","api","document","querySelector","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","authorization","then","_getResponse","userData","method","body","JSON","stringify","cardData","like","PopupWithForm","title","button","onSubmit","isValid","children","noValidate","EditProfilePopup","onUpdateUser","onChange","useState","setName","description","setDescription","nameRef","useRef","descriptionRef","nameMessage","descriptionMessage","useEffect","e","preventDefault","placeholder","required","minLength","maxLength","value","ref","nameValidity","current","validity","valid","descriptionValidity","textContent","validationMessage","EditAvatarPopup","onUpdateAvatar","avatarPopupRef","spanMessage","avatarValidity","AddPlacePopup","linkRef","linkMessage","handleChange","linkValidity","DeletePlacePopup","onCardDeleting","deletingCard","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setDeletingCard","isInputsValid","setIsInputsValid","toggleValidity","closeAllPopups","all","getUserInfo","getInitialCards","data","catch","err","console","log","Provider","changeLikeCardStatus","newCard","state","c","setUserInfo","setAvatar","addNewCard","deleteCard","updatedCards","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f9fc9b27.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.bad0f45a.svg\";","import React from \"react\";\r\nimport headerLogo from '../images/header__logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <a className=\"link\" href=\"#\" target=\"_blank\">\r\n                <img src={headerLogo} className=\"header__logo\" alt=\"Место Россия\" />\r\n            </a>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nconst Card = ({ id, link, name, likes, owner, onDeleteCard, onCardClick, onCardLike }) => {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = currentUser._id === owner._id;\r\n    const isLiked = likes.some((user) => user._id === currentUser._id);\r\n\r\n    function handleClick() {\r\n        onCardClick({ cardLink: link, cardName: name })\r\n    };\r\n\r\n    function handleLikeClick() {\r\n        onCardLike({ likes, id });\r\n    };\r\n\r\n    function handleCardDelete() {\r\n        onDeleteCard(id)\r\n    }\r\n\r\n    return (\r\n        <article className=\"card\">\r\n            <img className=\"card__image\" src={link} alt=\"Фото места\" onClick={handleClick} />\r\n            {isOwn ? <button type=\"button\" aria-label=\"Удалить\" className=\"card__delete-btn\" onClick={handleCardDelete}></button> : <button type=\"button\" aria-label=\"Удалить\" className=\"card__delete-btn card__delete-btn_disabled\" disabled onClick={handleCardDelete}></button>}\r\n            <div className=\"card__rectangle\">\r\n                <h2 className=\"card__title\">{name}</h2>\r\n                <div className=\"card__like-section\">\r\n                    {isLiked ? <button type=\"button\" aria-label=\"Нравится\" className=\"card__like-btn card__like-btn_is-active\" onClick={handleLikeClick}></button> : <button type=\"button\" aria-label=\"Нравится\" className=\"card__like-btn\" onClick={handleLikeClick}></button>}\r\n                    <p className=\"card__like\">{likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </article>\r\n    );\r\n};\r\n\r\nexport default Card;","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nconst Main = ({ onEditProfile, onAddPlace, onEditAvatar, onDeleteCard, onCardClick, initialCards, onCardLike, onCardDelete }) => {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar-box\" onClick={onEditAvatar}>\r\n                    <img className=\"profile__avatar\" src={currentUser.avatar}\r\n                        alt=\"Аватар пользователя\" />\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div>\r\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                        <p className=\"profile__job\">{currentUser.about}</p>\r\n                    </div>\r\n                    <button type=\"button\" aria-label=\"Изменить\" className=\"profile__edit-btn\" onClick={onEditProfile}></button>\r\n                </div>\r\n                <button type=\"button\" aria-label=\"Добавить\" className=\"profile__add-btn\" onClick={onAddPlace}></button>\r\n            </section>\r\n            <section className=\"cards\">\r\n                {initialCards.map(({ _id, link, name, likes, owner }) => (\r\n                    <Card key={_id} id={_id} link={link} name={name} likes={likes} owner={owner} onDeleteCard={onDeleteCard} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />\r\n                ))}\r\n            </section>\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default Main;","import React from \"react\";\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy;2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nconst ImagePopup = ({ card, isOpen, onClose }) => {\r\n    return (\r\n        isOpen &&\r\n        <div className=\"popup popup_type_image popup_is-opened\">\r\n            <div className=\"popup__viewbox\">\r\n                <button type=\"button\" className=\"popup__close-btn popup__close-btn_type_s\" aria-label=\"Закрыть\" onClick={onClose}></button>\r\n                <figure className=\"popup__figure\">\r\n                    <img className=\"popup__image\" src={card.cardLink} alt={card.cardName} />\r\n                    <figcaption className=\"popup__caption\">{card.cardName}</figcaption>\r\n                </figure>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ImagePopup;","import { apiURL, apiToken } from './utils';\r\n\r\nclass Api {\r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    _getResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        } return Promise.reject(`Ошибка: ${res.status}`)\r\n    };\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            headers: {\r\n                authorization: this._headers.authorization,\r\n                'Content-Type': this._headers[\"Content-Type\"]\r\n            }\r\n        })\r\n            .then(res => this._getResponse(res));\r\n    };\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            headers: {\r\n                authorization: this._headers.authorization,\r\n                'Content-Type': this._headers[\"Content-Type\"]\r\n            }\r\n        })\r\n            .then(res => this._getResponse(res));\r\n    };\r\n\r\n    setUserInfo(userData) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._headers.authorization,\r\n                'Content-Type': this._headers[\"Content-Type\"]\r\n            },\r\n            body: JSON.stringify({\r\n                name: userData.name,\r\n                about: userData.about\r\n            })\r\n        }).then(res => this._getResponse(res));\r\n    };\r\n\r\n    addNewCard(cardData) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: {\r\n                authorization: this._headers.authorization,\r\n                'Content-Type': this._headers[\"Content-Type\"]\r\n            },\r\n            body: JSON.stringify({\r\n                name: cardData.name,\r\n                link: cardData.link\r\n            })\r\n        }).then(res => this._getResponse(res));\r\n    };\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._baseUrl}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: this._headers.authorization,\r\n                'Content-Type': this._headers[\"Content-Type\"]\r\n            }\r\n        }).then(res => this._getResponse(res));\r\n    };\r\n\r\n    changeLikeCardStatus(id, like) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n            method: like ? 'DELETE' : 'PUT',\r\n            headers: {\r\n                authorization: this._headers.authorization,\r\n                'Content-Type': this._headers[\"Content-Type\"]\r\n            }\r\n        }).then(res => this._getResponse(res));\r\n    };\r\n\r\n    setAvatar(link) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._headers.authorization,\r\n                'Content-Type': this._headers[\"Content-Type\"]\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: link\r\n            })\r\n        }).then(res => this._getResponse(res));\r\n    };\r\n\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: apiURL,\r\n    headers: {\r\n        authorization: apiToken,\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default api;\r\n","export const config = {\r\n    formSelector: '.popup__container',\r\n    inputSelector: '.popup__input',\r\n    submitButtonSelector: '.popup__save-btn',\r\n    inactiveButtonClass: 'popup__save-btn_disabled',\r\n    inputErrorClass: 'popup__input_type_error',\r\n    errorClass: 'popup__input-error_active'\r\n};\r\n\r\nexport const templateSelector = '.template';\r\nexport const editButton = document.querySelector('.profile__edit-btn');\r\nexport const addButton = document.querySelector('.profile__add-btn');\r\nexport const popupInputName = document.querySelector('.popup__input_type_name');\r\nexport const popupInputJob = document.querySelector('.popup__input_type_job');\r\nexport const profileAvatarBox = document.querySelector('.profile__avatar-box');\r\nexport const imagePopupSelector = '.popup_type_image';\r\nexport const addCardPopupSelector = '.popup_type_add-card';\r\nexport const editProfilePopupSelector = '.popup_type_edit-profile';\r\nexport const editAvatarPopupSelector = '.popup_type_edit-avatar';\r\nexport const deletePopupSelector = '.popup_type_delete-card';\r\nexport const cardListSelector = '.cards';\r\nexport const cardSelector = '.card';\r\nexport const cardLikeSelector = '.card__like';\r\nexport const cardImageSelector = '.card__image';\r\nexport const cardTitleSelector = '.card__title';\r\nexport const cardLikeButtonSelector = '.card__like-btn';\r\nexport const cardDeleteButtonSelector = '.card__delete-btn';\r\nexport const likeButtonActiveClass = 'card__like-btn_is-active'\r\nexport const deleteCardSelector = '.card_is-deleting';\r\nexport const deleteCardClassSelector = 'card_is-deleting';\r\nexport const inactiveDeleteButtonClass = 'card__delete-btn_disabled'\r\nexport const profileNameSelector = '.profile__name';\r\nexport const profileJobSelector = '.profile__job';\r\nexport const profileAvatarSelector = '.profile__avatar';\r\nexport const submitEditButton = document.querySelector('.popup__save-btn_type_edit');\r\nexport const submitAddButton = document.querySelector('.popup__save-btn_type_add');\r\nexport const submitAvatarButton = document.querySelector('.popup__save-btn_type_edit-avatar');\r\n\r\nexport const apiToken = '7abd72de-4e29-415a-9784-32653cfffc2b';\r\nexport const apiURL = 'https://mesto.nomoreparties.co/v1/cohort-27';","import React from \"react\";\r\n\r\nconst PopupWithForm = ({ type, name, title, button, isOpen, onClose, onSubmit, isValid, children }) => {\r\n    return (\r\n        isOpen &&\r\n        <div className={`popup popup_type_${type} popup_is-opened`}>\r\n            <form className=\"popup__container\" name={name} noValidate onSubmit={onSubmit}>\r\n                <button type=\"button\" className=\"popup__close-btn\" aria-label=\"Закрыть\" onClick={onClose}></button>\r\n                <h2 className=\"popup__title\">{title}</h2>\r\n                {children}\r\n                {isValid ? <button type=\"submit\" className=\"popup__save-btn\">{button}</button> : <button type=\"submit\" className=\"popup__save-btn popup__save-btn_disabled\" disabled={true}>{button}</button>}\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nconst EditProfilePopup = ({ isOpen, onClose, onUpdateUser, isValid, onChange }) => {\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    // Рефы использованы для валидации, основное задание выполнено через управляемые компоненты //\r\n    const nameRef = React.useRef();\r\n    const descriptionRef = React.useRef();\r\n    const nameMessage = React.useRef();\r\n    const descriptionMessage = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    };\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n        const nameValidity = nameRef.current.validity.valid;\r\n        const descriptionValidity = descriptionRef.current.validity.valid;\r\n        nameValidity && descriptionValidity ? onChange(true) : onChange(false);\r\n        nameValidity ? nameMessage.current.textContent = '' : nameMessage.current.textContent = e.target.validationMessage\r\n    };\r\n\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value);\r\n        const nameValidity = nameRef.current.validity.valid;\r\n        const descriptionValidity = descriptionRef.current.validity.valid;\r\n        descriptionValidity && nameValidity ? onChange(true) : onChange(false);\r\n        descriptionValidity ? descriptionMessage.current.textContent = '' : descriptionMessage.current.textContent = e.target.validationMessage\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    return (\r\n        <PopupWithForm type='edit-profile' name='editForm' title='Редактировать профиль' button='Сохранить' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} isValid={isValid}>\r\n            <div className=\"popup__section\">\r\n                <input type=\"text\" className=\"popup__input popup__input_type_name\" name=\"nameInput\" placeholder=\"Имя\"\r\n                    required minLength=\"2\" maxLength=\"40\" value={name} ref={nameRef} onChange={handleNameChange} />\r\n                {isValid ? <span className=\"popup__input-error\" ref={nameMessage}></span> : <span className=\"popup__input-error popup__input-error_active\" ref={nameMessage}></span>}\r\n            </div>\r\n            <div className=\"popup__section\">\r\n                <input type=\"text\" className=\"popup__input popup__input_type_job\" name=\"jobInput\" ref={descriptionRef}\r\n                    placeholder=\"Вид деятельности\" required minLength=\"2\" maxLength=\"200\" value={description} onChange={handleDescriptionChange} />\r\n                {isValid ? <span className=\"popup__input-error\" ref={descriptionMessage}></span> : <span className=\"popup__input-error popup__input-error_active\" ref={descriptionMessage}></span>}\r\n            </div>\r\n        </PopupWithForm>\r\n    )\r\n};\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nconst EditAvatarPopup = ({ isOpen, onClose, onUpdateAvatar, isValid, onChange }) => {\r\n\r\n    const avatarPopupRef = React.useRef();\r\n    const spanMessage = React.useRef();\r\n\r\n\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar({\r\n            avatar: avatarPopupRef.current.value\r\n        });\r\n\r\n    };\r\n\r\n    function handleChange() {\r\n        const avatarValidity = avatarPopupRef.current.validity.valid;\r\n        avatarValidity ? onChange(true) : onChange(false)\r\n        avatarValidity ? spanMessage.current.textContent = '' : spanMessage.current.textContent = avatarPopupRef.current.validationMessage\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm type='edit-avatar' name='editAvatarForm' title='Обновить аватар' button='Сохранить' isOpen={isOpen} onClose={onClose} isValid={isValid} onSubmit={handleSubmit}>\r\n            <div className=\"popup__section\">\r\n                <input type=\"url\" ref={avatarPopupRef} className=\"popup__input popup__input_type_link\" name=\"linkInput\" required\r\n                    placeholder=\"Ссылка на картинку\" onChange={handleChange} />\r\n                {isValid ? <span className=\"popup__input-error\" ref={spanMessage}></span> : <span className=\"popup__input-error popup__input-error_active\" ref={spanMessage}></span>}\r\n            </div>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nconst AddPlacePopup = ({ isOpen, onClose, onAddPlace, isValid, onChange }) => {\r\n\r\n    const nameRef = React.useRef();\r\n    const linkRef = React.useRef();\r\n    const nameMessage = React.useRef();\r\n    const linkMessage = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({ name: nameRef.current.value, link: linkRef.current.value });\r\n    };\r\n\r\n    function handleChange() {\r\n        const nameValidity = nameRef.current.validity.valid;\r\n        const linkValidity = linkRef.current.validity.valid;\r\n        nameValidity && linkValidity ? onChange(true) : onChange(false)\r\n        nameValidity ? nameMessage.current.textContent = '' : nameMessage.current.textContent = nameRef.current.validationMessage\r\n        linkValidity ? linkMessage.current.textContent = '' : linkMessage.current.textContent = linkRef.current.validationMessage\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm type='add-card' name='addForm' title='Новое место' button='Создать' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} isValid={isValid}>\r\n            <div className=\"popup__section\">\r\n                <input type=\"text\" className=\"popup__input popup__input_type_title\" name=\"titleInput\"\r\n                    placeholder=\"Название\" required minLength=\"2\" maxLength=\"30\" ref={nameRef} onChange={handleChange} />\r\n                {isValid ? <span className=\"popup__input-error\" ref={nameMessage}></span> : <span className=\"popup__input-error popup__input-error_active\" ref={nameMessage}></span>}\r\n            </div>\r\n            <div className=\"popup__section\">\r\n                <input type=\"url\" className=\"popup__input popup__input_type_link\" name=\"linkInput\" required\r\n                    placeholder=\"Ссылка на картинку\" ref={linkRef} onChange={handleChange} />\r\n                {isValid ? <span className=\"popup__input-error\" ref={linkMessage}></span> : <span className=\"popup__input-error popup__input-error_active\" ref={linkMessage}></span>}\r\n            </div>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nconst DeletePlacePopup = ({ isOpen, onClose, onCardDeleting, deletingCard }) => {\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onCardDeleting(deletingCard);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm type='delete-card' name='deleteCardForm' title='Вы уверены?' button='Да' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default DeletePlacePopup;","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeletePlacePopup from './DeletePlacePopup';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = React.useState(false)\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState({ cardLink: '', cardName: '' })\n  const [currentUser, setCurrentUser] = React.useState({})\n  const [initialCards, setCards] = React.useState([]);\n  const [deletingCard, setDeletingCard] = React.useState('');\n  const [isInputsValid, setIsInputsValid] = React.useState(false)\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n    setIsInputsValid(false)\n  };\n\n  function toggleValidity(validity) {\n    setIsInputsValid(validity);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n    setIsInputsValid(true)\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n    setIsInputsValid(false);\n  };\n\n  function handleDeleteCardClick(id) {\n    setIsDeletePopupOpen(true);\n    setDeletingCard(id);\n  };\n\n  function handleCardClick(card) {\n    setIsImagePopupOpen(true);\n    setSelectedCard({ cardLink: card.cardLink, cardName: card.cardName });\n  };\n\n  function handleUpdateUser(userData) {\n    api.setUserInfo(userData).then(() => {\n      userData.avatar = currentUser.avatar;\n      setCurrentUser(userData);\n      setIsEditProfilePopupOpen(false);\n    }).catch(err => console.log(err));\n  };\n\n  function handleUpdateAvatar(userData) {\n    api.setAvatar(userData.avatar).then(() => {\n      userData.name = currentUser.name;\n      userData.about = currentUser.about;\n      setCurrentUser(userData);\n      setIsEditAvatarPopupOpen(false);\n    }).catch(err => console.log(err));\n  };\n\n  function handleAddPlaceSubmit(newCard) {\n    api.addNewCard(newCard).then((data) => {\n      newCard._id = data._id;\n      newCard.owner = data.owner;\n      newCard.likes = data.likes;\n      setCards([newCard, ...initialCards]);\n      setIsAddPlacePopupOpen(false);\n    }).catch(err => console.log(err));\n  };\n\n  function handleCardLike({ likes, id }) {\n    const isLiked = likes.some((user) => user._id === currentUser._id);\n    api.changeLikeCardStatus(id, isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => c._id === id ? newCard : c));\n    }).catch(err => console.log(err));\n  };\n\n  function handleCardDeleting(id) {\n    api.deleteCard(id).then(() => {\n      const updatedCards = initialCards.filter((card) => {\n        return card._id !== id\n      });\n      setCards(updatedCards);\n      setIsDeletePopupOpen(false);\n      setDeletingCard('');\n    }).catch(err => console.log(err));\n  };\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsDeletePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard({ cardLink: '', cardName: '' })\n  };\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([data, initialCards]) => {\n        setCurrentUser(data)\n        setCards(initialCards);\n      }).catch(err => console.log(err));\n  }, [])\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onDeleteCard={handleDeleteCardClick} onCardClick={handleCardClick} initialCards={initialCards} onCardLike={handleCardLike} />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} isValid={isInputsValid} onChange={toggleValidity} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} isValid={isInputsValid} onChange={toggleValidity} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} isValid={isInputsValid} onChange={toggleValidity} />\n        <DeletePlacePopup isOpen={isDeletePopupOpen} onClose={closeAllPopups} onCardDeleting={handleCardDeleting} deletingCard={deletingCard} />\n        <ImagePopup card={selectedCard} isOpen={isImagePopupOpen} onClose={closeAllPopups} />\n        <Footer />\n      </CurrentUserContext.Provider>\n\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}